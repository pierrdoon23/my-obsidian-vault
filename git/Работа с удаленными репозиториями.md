
### **1. Основные понятия**
- **Удаленный репозиторий (remote)** — версия вашего проекта, хранящаяся на сервере (GitHub, GitLab, Bitbucket и т.д.).
- **`origin`** — стандартное имя для удаленного репозитория, с которого вы клонировали проект.
- **`upstream`** — часто используется для связи с оригинальным репозиторием при работе с форками.

---

### **2. Подключение удаленного репозитория**
#### **Клонирование**
```bash
git clone https://github.com/user/repo.git  # Создает локальную копию репозитория
```

#### **Добавление нового remote**
```bash
git remote add upstream https://github.com/original-owner/repo.git  # Например, для синхронизации с исходным репозиторием
```

#### **Просмотр списка удаленных репозиториев**
```bash
git remote -v  # Показывает все подключенные remote и их URL
```

---

### **3. Отправка и получение изменений**
#### **Отправка изменений (`git push`)**
```bash
git push origin main          # Отправить ветку main на сервер
git push -u origin feature    # Отправить ветку feature и связать ее с удаленной (удобно для новых веток)
```

#### **Получение изменений**
- **`git fetch`** — загружает изменения с сервера, но не меняет рабочие файлы:
  ```bash
  git fetch origin  # Обновляет данные о ветках и коммитах
  git merge origin/main  # Вручную влить изменения в текущую ветку
  ```
- **`git pull`** — объединяет `git fetch` и `git merge` (или `git rebase`):
  ```bash
  git pull origin main        # Загрузить и влить изменения из main
  git pull --rebase           # Перебазировать локальные коммиты поверх новых изменений
  ```

---

### **4. Работа с ветками**
#### **Отслеживание удаленных веток**
- Локальные ветки могут **отслеживать (track)** удаленные:
  ```bash
  git checkout -b new-branch origin/new-branch  # Создать локальную ветку, связанную с удаленной
  ```

#### **Удаление веток на сервере**
```bash
git push origin --delete old-branch  # Удалить ветку old-branch на удаленном репозитории
```

#### **Обновление списка веток**
```bash
git fetch --prune  # Удалить локальные ссылки на ветки, которых нет на сервере
```

---

### **5. Синхронизация форка с оригинальным репозиторием**
Если вы работаете с форком:
1. Добавьте оригинальный репозиторий как `upstream`:
   ```bash
   git remote add upstream https://github.com/original/repo.git
   ```
2. Получите изменения:
   ```bash
   git fetch upstream
   ```
3. Влейте изменения в свою ветку (например, `main`):
   ```bash
   git checkout main
   git merge upstream/main
   ```
4. Отправьте обновления в свой форк:
   ```bash
   git push origin main
   ```

---

### **6. Принудительная отправка изменений (`force push`)**
Используется осторожно, чтобы перезаписать историю на сервере:
```bash
git push --force origin main  # Может сломать историю у других!
git push --force-with-lease   # Безопаснее: проверит, что история на сервере не изменилась
```

---

### **7. Теги (версионирование)**
- **Отправка тегов на сервер**:
  ```bash
  git push origin v1.0.0       # Отправить конкретный тег
  git push origin --tags       # Отправить все теги
  ```
- **Удаление тега на сервере**:
  ```bash
  git tag -d v1.0.0            # Удалить локально
  git push origin :refs/tags/v1.0.0  # Удалить на сервере
  ```

---

### **8. Разрешение конфликтов**
Если при `git pull` или `git merge` возникли конфликты:
1. Исправьте конфликтующие файлы (ищите `<<<<<<<`, `=======`, `>>>>>>>`).
2. Добавьте исправленные файлы:
   ```bash
   git add file.txt
   ```
3. Завершите слияние:
   ```bash
   git commit -m "Merge fixes"
   ```

---

### **9. Полезные команды**
- **Сравнение локальной и удаленной веток**:
  ```bash
  git diff main origin/main  # Показать различия
  ```
- **Просмотр изменений перед отправкой**:
  ```bash
  git log --oneline origin/main..main  # Коммиты, которые будут отправлены
  ```

---

### **10. Лучшие практики**
1. **Часто синхронизируйтесь**: Регулярно делайте `git pull`/`git fetch`, чтобы избегать конфликтов.
2. **Используйте ветки**: Работайте в отдельных ветках, а не напрямую в `main`.
3. **Избегайте `force push` в общих ветках**: Это может нарушить работу команды.
4. **Проверяйте изменения перед отправкой**: `git diff`, `git log`.
5. **Тегируйте релизы**: Это упрощает навигацию по версиям.

---

### Пример рабочего процесса:
1. Получить свежие изменения:
   ```bash
   git pull origin main
   ```
2. Создать новую ветку:
   ```bash
   git checkout -b feature/login
   ```
3. Реализовать функционал, сделать коммиты:
   ```bash
   git add .
   git commit -m "Add login form"
   ```
4. Отправить ветку на сервер:
   ```bash
   git push -u origin feature/login
   ```
5. Создать Pull Request (Merge Request) на GitHub/GitLab.

---

Если что-то пошло не так, всегда можно использовать `git reflog` для поиска потерянных коммитов или `git reset` для отката (но помните о рисках при работе с удаленными репозиториями).